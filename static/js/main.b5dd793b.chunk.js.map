{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["HighscoreType","hourInMs","hourInS","days","Array","fill","lastDayOfAoC","Date","curDate","numEnabledDays","Math","min","getDate","map","_","idx","initialiseScores","scores","playerList","sortPlayersForDay","BothStars","Object","entries","members","i","insertStarGainsForDay","StarGain","getNthStarTs","player","n","day","completion_day_level","get_star_ts","highscoreType","bothStarsSort","Delta","sort","playerA","playerB","playerA2Ts","playerB2Ts","playerA1Ts","playerB1Ts","Number","MAX_SAFE_INTEGER","deltaDaySort","playerAStarGain","parseInt","star_gain","starGainSort","FirstStar","firstStarSort","Total","a","b","getTotalPointGainForDay","totalScoreSort","firstStarSortedList","secondStarSortedList","forEach","players","dayCompletion","length","renderUnixTimestamp","ts","undefined","date0Ms","getTime","diff","playerHours","floor","playerMinutes","playerSeconds","toString","padStart","renderPlayerTime","selectedDay","firstStarTime","secondStarTime","deltaStarTime","renderPlayerDeltaTimestamp","star1Gain","star2Gain","className","total","getPlacementClass","App","useState","setPlayers","useEffect","then","score","URLSearchParams","window","location","search","get","split","id","setSelectedDay","selectedScoreType","setSelectedScoreType","showScoreboardInput","setShowScoreboardInput","customJSON","setCustomJSON","href","onClick","ev","preventDefault","stopPropagation","dayNumber","dayNumberIdx","value","onChange","scoreType","target","title","name","renderPlayer","htmlFor","JSON","parse","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b5dd793b.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport './App.css';\nenum HighscoreType {\n  BothStars = 'bothstars',\n  Delta = 'delta',\n  StarGain = 'stargain',\n  FirstStar = 'firststar',\n  Total = 'total',\n}\nconst hourInMs = 1000*60*60;\nconst hourInS = 60*60;\nconst minuteInMs = 1000*60;\nconst minuteInS = 60;\nconst secondInMs = 1000;\nlet days = new Array(25).fill(false);\nlet lastDayOfAoC = new Date(2022, 11, 25);\nlet curDate = new Date();\nlet curDay = new Date(Math.min(+lastDayOfAoC, +curDate)).getDate()\nconst numEnabledDays = curDay;\ndays = days.map((_, idx) => idx+1 > numEnabledDays ? false : true)\nconst playerList = undefined\n\nfunction initialiseScores(scores: any) {\n\n  let playerList = sortPlayersForDay(\"\"+numEnabledDays, HighscoreType.BothStars, Object.entries(scores.members))\n  for (let i = 0; i < numEnabledDays; i++) {\n    insertStarGainsForDay(\"\"+(i+1), playerList);\n  }\n  playerList = sortPlayersForDay(\"\"+numEnabledDays, HighscoreType.StarGain, playerList)\n  return playerList;\n} \n\n\nfunction App() {\n  const [players, setPlayers] = useState<any[]>(playerList ?? []);\n  useEffect(() => {\n    import('./scores.json').then((score) => {\n      new URLSearchParams(window.location.search).get('ex')?.split(',').forEach(id => (score as any).members[id] ? delete (score as any).members[id] : 0);\n      setPlayers(initialiseScores(score));\n    });\n  },[])\n  const [selectedDay, setSelectedDay] = useState<string>(\"\"+numEnabledDays);\n  const [selectedScoreType, setSelectedScoreType] = useState<HighscoreType>(HighscoreType.StarGain);\n  const [showScoreboardInput, setShowScoreboardInput] = useState<boolean>(false);\n  const [customJSON, setCustomJSON] = useState<string>('')\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div className=\"privboard-row\">\n          <span className=\"privboard-days\">\n            {days.map((day, idx) => {\n              // eslint-disable-next-line jsx-a11y/anchor-is-valid\n              return day ? <a href=\"\" className={\"\"+(idx+1) === selectedDay ? 'bold':''} onClick={(ev) => {\n                ev.preventDefault()\n                ev.stopPropagation();\n                setSelectedDay(\"\"+(idx+1));\n                setPlayers(sortPlayersForDay(\"\"+(idx+1), selectedScoreType, players));\n              }}>{(idx+1).toString().split('').map((dayNumber, dayNumberIdx) => <>{dayNumberIdx > 0 ? <br/> : <></>}{dayNumber}</>)}</a> : <span>{(idx+1).toString().split('').map((dayNumber, dayNumberIdx) => <>{dayNumberIdx > 0 ? <br/> : <></>}{dayNumber}</>)}</span>\n            })}\n          </span>\n        </div>\n      </header>\n      <section>\n      <select value={selectedScoreType} onChange={(ev) => {\n        const scoreType = ev.target.value as HighscoreType;\n        setSelectedScoreType(scoreType)\n        setPlayers(sortPlayersForDay(selectedDay, scoreType, players));\n      }}>\n              <option value={HighscoreType.BothStars}>Time to both stars</option>\n              <option value={HighscoreType.FirstStar}>Time to first star</option>\n              <option value={HighscoreType.Delta}>Time between star 1 and 2</option>\n              <option value={HighscoreType.StarGain}>Points gained</option>\n              <option value={HighscoreType.Total}>Total at day {selectedDay}</option>\n      </select>\n\n        {players.map((player, idx) => {\n          return renderPlayer(player[1], selectedDay, idx, selectedScoreType);\n        })}\n        \n      </section>\n      <aside className={`score-input-aside ${showScoreboardInput ? 'expanded' : ''}`}>\n        <label htmlFor=\"scoresinput\">Insert custom scoreboard JSON</label><button className=\"link-like-button\" onClick={() => setShowScoreboardInput(!showScoreboardInput)}>{showScoreboardInput ? '-' : '+'}</button>\n        {showScoreboardInput && <textarea id=\"scoresinput\" value={customJSON} onChange={(ev) => {\n          setCustomJSON(ev.target.value)\n        }}></textarea>}\n        {showScoreboardInput && <button onClick={() => {\n          let parsedScore = JSON.parse(customJSON);\n          let playerList = initialiseScores(parsedScore);\n          setPlayers(playerList);\n        }}>Set scoreboard</button>}\n      </aside>\n    </div>\n  );\n}\nfunction getNthStarTs(player: any, n: number, day: string) {\n  return player.completion_day_level[day]?.[\"\"+n]?.get_star_ts;\n}\nfunction sortPlayersForDay(day: string, highscoreType: HighscoreType, playerList: any[]): any[] {\n  switch(highscoreType) {\n    case HighscoreType.BothStars:\n      return bothStarsSort(day, playerList);\n    case HighscoreType.Delta:\n      return deltaDaySort(day, playerList);\n    case HighscoreType.StarGain:\n      return starGainSort(day, playerList);\n    case HighscoreType.FirstStar:\n      return firstStarSort(day, playerList);\n    case HighscoreType.Total:\n      return totalScoreSort(day, playerList);\n  }\n}\nfunction bothStarsSort(day: string, playerList: any[]): any[] {\n  return [...playerList].sort((playerA, playerB) => {\n    const playerA2Ts = getNthStarTs(playerA[1], 2, day);\n    const playerB2Ts = getNthStarTs(playerB[1], 2, day);\n    const playerA1Ts = getNthStarTs(playerA[1], 1, day);\n    const playerB1Ts = getNthStarTs(playerB[1], 1, day);\n    if (playerA2Ts && playerB2Ts) {\n      return playerA2Ts - playerB2Ts;\n    } else if (playerA2Ts && !playerB2Ts) {\n      return playerA2Ts - Number.MAX_SAFE_INTEGER;\n    } else if (!playerA2Ts && playerB2Ts) {\n      return Number.MAX_SAFE_INTEGER - playerB2Ts;\n    }\n    return (playerA1Ts ?? Number.MAX_SAFE_INTEGER) - (playerB1Ts ?? Number.MAX_SAFE_INTEGER);\n  });\n}\nfunction deltaDaySort(day: string, playerList: any[]) {\n  return [...playerList].sort((playerA, playerB) => {\n    const playerA2Ts = getNthStarTs(playerA[1], 2, day);\n    const playerB2Ts = getNthStarTs(playerB[1], 2, day);\n    const playerA1Ts = getNthStarTs(playerA[1], 1, day);\n    const playerB1Ts = getNthStarTs(playerB[1], 1, day);\n    if (playerA2Ts && playerB2Ts) {\n      return (playerA2Ts - playerA1Ts) - (playerB2Ts - playerB1Ts);\n    } else if (playerA2Ts && !playerB2Ts) {\n      return (playerA2Ts - playerA1Ts) - Number.MAX_SAFE_INTEGER;\n    } else if (!playerA2Ts && playerB2Ts) {\n      return Number.MAX_SAFE_INTEGER - (playerB2Ts - playerB1Ts);\n    }\n    return 0;\n  });\n}\n\n// You can get away with all kinds of sickening complexity when N < 200\nfunction totalScoreSort(day: string, playerList: any[]) {\n  return [...playerList].sort((playerA, playerB) => {\n    let a = 0;\n    let b = 0;\n    for (let i = 1; i <= +day; i++) {\n      a+=getTotalPointGainForDay(i, playerA[1]);\n      b+=getTotalPointGainForDay(i, playerB[1]);\n    }\n    return b-a;\n  })\n}\n\nfunction starGainSort(day: string, playerList: any[]) {\n  return [...playerList].sort((playerA, playerB) => {\n    const playerA1Star = parseInt(playerA[1].completion_day_level[day]?.[\"1\"]?.star_gain);\n    const playerA2Star = parseInt(playerA[1].completion_day_level[day]?.[\"2\"]?.star_gain);\n    const playerAStarGain = playerA1Star + playerA2Star;\n    const playerB1Star = parseInt(playerB[1].completion_day_level[day]?.[\"1\"]?.star_gain);\n    const playerB2Star = parseInt(playerB[1].completion_day_level[day]?.[\"2\"]?.star_gain);\n    const playerBStarGain = playerB1Star + playerB2Star;\n    return playerBStarGain - playerAStarGain;\n  });\n}\n\nfunction firstStarSort(day: string, playerList: any[]) {\n  return [...playerList].sort((playerA, playerB) => {\n    const playerA1Ts = getNthStarTs(playerA[1], 1, day);\n    const playerB1Ts = getNthStarTs(playerB[1], 1, day);\n    if (playerA1Ts && playerB1Ts) {\n      return (playerA1Ts) - (playerB1Ts);\n    } else if (playerA1Ts && !playerB1Ts) {\n      return (playerA1Ts) - Number.MAX_SAFE_INTEGER;\n    } else if (!playerA1Ts && playerB1Ts) {\n      return Number.MAX_SAFE_INTEGER - (playerB1Ts - playerB1Ts);\n    }\n    return 0;\n  });\n}\n\nfunction insertStarGainsForDay(day: string, playerList: any[]) {\n  let firstStarSortedList = firstStarSort(day, playerList);\n  let secondStarSortedList = bothStarsSort(day, playerList);\n  firstStarSortedList.forEach((player, idx, players) => {\n    let dayCompletion = player[1].completion_day_level[day]?.[\"1\"];\n    if (dayCompletion) {\n      dayCompletion.star_gain = players.length-idx;\n    } else {\n      player[1].completion_day_level[day] = {\n        '1': {\n          star_gain: 0,\n        },\n      }\n    }\n  });\n  secondStarSortedList.forEach((player, idx, players) => {\n    let dayCompletion = player[1].completion_day_level[day]?.[\"2\"];\n    if (dayCompletion) {\n      dayCompletion.star_gain = players.length-idx;\n    } else {\n      player[1].completion_day_level[day] = {\n        ...player[1].completion_day_level[day],\n        '2': {\n          star_gain: 0,\n        },\n      }\n    }\n  });\n}\n\nfunction renderUnixTimestamp(ts: number, day: string): string {\n  if (ts === undefined) {\n    return '';\n  }\n  // Create a new JavaScript Date object based on the timestamp\n  // multiplied by 1000 so that the argument is in milliseconds, not seconds.\n  const date0Ms = new Date(2022, 11, parseInt(day), 6, 0, 0, 0).getTime();\n  const finishTime = new Date(ts * 1000).getTime();\n  const diff = finishTime - date0Ms;\n\n  const playerHours = Math.floor(diff/hourInMs);\n  const playerMinutes = Math.floor((diff%hourInMs)/minuteInMs);\n  const playerSeconds = Math.floor((diff%minuteInMs)/secondInMs);\n  // Will display time in 10:30:23 format\n  var formattedTime = playerHours + ':' + playerMinutes.toString().padStart(2, \"0\")+ ':' + playerSeconds.toString().padStart(2, \"0\");\n  return formattedTime\n}\n\nfunction renderPlayerTime(player: any, selectedDay: string, highscoreType: HighscoreType) {\n  if (highscoreType === HighscoreType.BothStars || highscoreType === HighscoreType.FirstStar) {\n    return `${renderUnixTimestamp(player.completion_day_level?.[selectedDay]?.[\"1\"]?.get_star_ts as number, selectedDay)} / ${renderUnixTimestamp(player.completion_day_level?.[selectedDay]?.[\"2\"]?.get_star_ts as number, selectedDay)}`\n  } else if (highscoreType === HighscoreType.Delta) {\n    return renderPlayerDeltaTimestamp(player, selectedDay);\n  } else if (highscoreType === HighscoreType.StarGain) {\n    let star1Gain = player.completion_day_level?.[selectedDay]?.[\"1\"]?.star_gain;\n    let star2Gain = player.completion_day_level?.[selectedDay]?.[\"2\"]?.star_gain;\n    return <><span className=\"privboard-star-firstonly\">{star1Gain}</span>{' / '}<span className=\"privboard-star-both\">{star2Gain}</span>{' -> '}<span className=\"privboard-star-both\">{(star1Gain??0)+(star2Gain??0)}</span></>;\n  } else if (highscoreType === HighscoreType.Total) {\n    let total = 0;\n    for (let i = 1; i <= +selectedDay; i++) {\n      total += getTotalPointGainForDay(i,player);\n    }\n    return total\n  }\n}\n\nfunction getTotalPointGainForDay(day: number, player: any) {\n  let star1Gain = player.completion_day_level?.[''+day]?.[\"1\"]?.star_gain;\n  let star2Gain = player.completion_day_level?.[''+day]?.[\"2\"]?.star_gain;\n  return star1Gain+star2Gain;\n}\n\nfunction renderPlayerDeltaTimestamp(player: any, selectedDay: string) {\n  const firstStarTime = player.completion_day_level?.[selectedDay]?.[\"1\"]?.get_star_ts;\n  const secondStarTime = player.completion_day_level?.[selectedDay]?.[\"2\"]?.get_star_ts;\n  if (secondStarTime === undefined) {\n    return '';\n  }\n  const deltaStarTime = secondStarTime - firstStarTime;\n  const playerHours = Math.floor(deltaStarTime/hourInS);\n  const playerMinutes = Math.floor((deltaStarTime%hourInS)/minuteInS);\n  const playerSeconds = Math.floor((deltaStarTime%minuteInS));\n  var formattedDelta = playerHours + ':' + playerMinutes.toString().padStart(2, \"0\")+ ':' + playerSeconds.toString().padStart(2, \"0\");\n  return formattedDelta;\n}\n\nfunction getPlacementClass(idx: number) {\n  switch(idx) {\n    case 0:\n      return 'privboard-star-both';\n    case 1:\n      return 'privboard-star-firstonly';\n    case 2:\n      return 'privboard-third';\n    default:\n      return '';\n  }\n}\n\nfunction renderPlayer(player: any, selectedDay: string, idx: number, highscoreType: HighscoreType) {\n  return (\n    <div className=\"privboard-row\" title={player.id}>\n      <span className=\"privboard-position\">{idx+1})</span> {renderPlayerTime(player, selectedDay, highscoreType)} <span className={`privboard-name ${getPlacementClass(idx)} ${player.name === null ? 'leaderboard-anon' : ''}`}>{player.name ?? `(anonymous user #${player.id})`}</span></div>\n  )\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}